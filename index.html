<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
  <title>Foody ‚Äî –º–∏–Ω–∏‚Äë–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ</title>
  <link rel="stylesheet" href="./styles.css">
  <script src="https://telegram.org/js/telegram-web-app.js"></script>
</head>
<body>
  <header class="appbar glass">
    <div class="brand">
      <span class="logo">üçΩÔ∏è</span>
      <span>Foody</span>
    </div>
    <nav class="tabs">
      <button id="tabBuyer" class="tab active">–ü–æ–∫—É–ø–∞—Ç–µ–ª—é</button>
      <button id="tabMerchant" class="tab">–†–µ—Å—Ç–æ—Ä–∞–Ω</button>
    </nav>
  </header>

  <section class="hero gradient">
    <div class="hero-text">
      <h1>–í–∫—É—Å–Ω–æ, –≤—ã–≥–æ–¥–Ω–æ, –±–µ–∑ –æ—Ç—Ö–æ–¥–æ–≤</h1>
      <p>–ù–∞—Ö–æ–¥–∏—Ç–µ –±–ª—é–¥–∞ —Å–æ —Å–∫–∏–¥–∫–æ–π —Ä—è–¥–æ–º –∏–ª–∏ —É–ø—Ä–∞–≤–ª—è–π—Ç–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è–º–∏ –≤–∞—à–µ–≥–æ –∑–∞–≤–µ–¥–µ–Ω–∏—è.</p>
    </div>
  </section>

  <!-- –ü–æ–∫—É–ø–∞—Ç–µ–ª—å -->
  <main id="buyerView">
    <section class="card glass">
      <div class="row wrap gap">
        <div class="field">
          <label for="citySelect">–ì–æ—Ä–æ–¥</label>
          <select id="citySelect"></select>
        </div>
        <button id="refreshBuyer" class="btn">–û–±–Ω–æ–≤–∏—Ç—å</button>
      </div>
      <div id="buyerEmpty" class="empty hidden">–ü–æ–∫–∞ –Ω–µ—Ç –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π. –í—ã–±–µ—Ä–∏—Ç–µ –¥—Ä—É–≥–æ–π –≥–æ—Ä–æ–¥ –∏–ª–∏ –Ω–∞–∂–º–∏—Ç–µ ¬´–û–±–Ω–æ–≤–∏—Ç—å¬ª.</div>
      <div id="buyerList" class="cards"></div>
    </section>
  </main>

  <!-- –†–µ—Å—Ç–æ—Ä–∞–Ω (–õ–ö) -->
  <main id="merchantView" class="hidden">
    <section class="grid2">
      <div class="card glass">
        <div class="card-title">–°—Ç–∞—Ç—É—Å</div>
        <div id="restInfo" class="muted">–ó–∞–≥—Ä—É–∑–∫–∞‚Ä¶</div>
        <div id="profileBanner" class="callout hidden">
          <div>–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –ø—Ä–æ—Ñ–∏–ª—å (—Ç–µ–ª–µ—Ñ–æ–Ω, –∞–¥—Ä–µ—Å –∏ –≥–æ—Ä–æ–¥), —á—Ç–æ–±—ã –≤–∞—Å –≤–∏–¥–µ–ª–∏ –ø–æ–∫—É–ø–∞—Ç–µ–ª–∏.</div>
          <button id="settingsBtn" class="btn ghost">–û—Ç–∫—Ä—ã—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏</button>
        </div>
        <div class="row gap">
          <button id="loginBtn" class="btn ghost hidden">–í–æ–π—Ç–∏</button>
          <button id="logoutBtn" class="btn danger">–í—ã–π—Ç–∏</button>
          <button id="settingsBtn2" class="btn">–ù–∞—Å—Ç—Ä–æ–π–∫–∏</button>
        </div>
      </div>

      <div class="card glass">
        <div class="card-title">–ù–æ–≤–æ–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ</div>
        <form id="createForm" class="form grid2 tight">
          <label>–ù–∞–∑–≤–∞–Ω–∏–µ<input id="title" required maxlength="80" placeholder="–ù–∞–ø—Ä., –°–µ—Ç —Ä–æ–ª–ª–æ–≤ -70%"></label>
          <label>–¶–µ–Ω–∞ (‚ÇΩ)<input id="price" type="number" min="0" step="1" required placeholder="399"></label>
          <label>–û–ø–∏—Å–∞–Ω–∏–µ<textarea id="desc" rows="2" maxlength="280" placeholder="–ö—Ä–∞—Ç–∫–æ –æ–ø–∏—à–∏—Ç–µ —Å–æ—Å—Ç–∞–≤/—É—Å–ª–æ–≤–∏—è —Å–∞–º–æ–≤—ã–≤–æ–∑–∞"></textarea></label>
          <label>–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ<input id="qty" type="number" min="1" step="1" required value="1"></label>
          <label>–î–µ–π—Å—Ç–≤—É–µ—Ç –¥–æ<input id="expires" type="datetime-local"></label>
          <label>–§–æ—Ç–æ<input id="photo" type="file" accept="image/*"></label>
          <div class="full">
            <button class="btn" type="submit">–°–æ–∑–¥–∞—Ç—å</button>
          </div>
        </form>
      </div>
    </section>

    <section class="card glass">
      <div class="row between">
        <div class="card-title">–í–∞—à–∏ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è</div>
        <input id="search" class="search" placeholder="–ü–æ–∏—Å–∫ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é">
      </div>
      <div id="empty" class="empty hidden">–ü–æ–∫–∞ –Ω–µ—Ç –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π.</div>
      <div id="offers" class="cards"></div>
    </section>

    <section class="card glass">
      <div class="card-title">–ë—Ä–æ–Ω–∏</div>
      <div class="row gap">
        <label for="resFilter">–§–∏–ª—å—Ç—Ä</label>
        <select id="resFilter">
          <option value="all">–í—Å–µ</option>
          <option value="active">–ê–∫—Ç–∏–≤–Ω—ã–µ</option>
          <option value="redeemed">–í—ã–¥–∞–Ω—ã</option>
          <option value="expired">–ü—Ä–æ—Å—Ä–æ—á–µ–Ω—ã</option>
        </select>
      </div>
      <div id="resEmpty" class="empty">–ü–æ–∫–∞ –Ω–µ—Ç –±—Ä–æ–Ω–µ–π.</div>
      <div class="tablewrap">
        <table id="resTable" class="table">
          <thead><tr><th>–ö–æ–¥</th><th>–ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ</th><th>–ü–æ–∫—É–ø–∞—Ç–µ–ª—å</th><th>–°—Ç–∞—Ç—É—Å</th><th>–î–µ–π—Å—Ç–≤—É–µ—Ç –¥–æ</th><th>–°–æ–∑–¥–∞–Ω–æ</th></tr></thead>
          <tbody></tbody>
        </table>
      </div>
    </section>
  </main>

  <!-- –ú–æ–¥–∞–ª –ù–∞—Å—Ç—Ä–æ–π–∫–∏ -->
  <dialog id="settingsModal" class="dialog glass">
    <div class="dialog-header">
      <h3>–ù–∞—Å—Ç—Ä–æ–π–∫–∏</h3>
      <button id="settingsClose" class="iconbtn" aria-label="–ó–∞–∫—Ä—ã—Ç—å">‚úï</button>
    </div>
    <div id="tipsCallout" class="callout hidden"></div>
    <div class="block">
      <h4>–ê–∫—Ç–∏–≤–Ω—ã–π —Ä–µ—Å—Ç–æ—Ä–∞–Ω</h4>
      <select id="restSelect"></select>
      <button id="saveSettings" class="btn">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
    </div>
    <div class="block">
      <h4>–ë—ã—Å—Ç—Ä–∞—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</h4>
      <div class="row wrap gap">
        <input id="newRestName" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä, ¬´–ë—É—Ä–≥–µ—Ä & –ö–æ—Ñ–µ¬ª">
        <button id="createRestBtn" class="btn">–°–æ–∑–¥–∞—Ç—å —Ä–µ—Å—Ç–æ—Ä–∞–Ω</button>
      </div>
    </div>
  </dialog>

  <!-- –ú–æ–¥–∞–ª –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å -->
  <dialog id="editModal" class="dialog glass">
    <div class="dialog-header">
      <h3>–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å</h3>
      <button id="editClose" class="iconbtn" aria-label="–ó–∞–∫—Ä—ã—Ç—å">‚úï</button>
    </div>
    <form id="editForm" class="form grid2 tight">
      <input id="editId" type="hidden">
      <label>–ù–∞–∑–≤–∞–Ω–∏–µ<input id="editTitle" required maxlength="80"></label>
      <label>–¶–µ–Ω–∞<input id="editPrice" type="number" min="0" step="1"></label>
      <label class="full">–û–ø–∏—Å–∞–Ω–∏–µ<textarea id="editDesc" rows="3" maxlength="280"></textarea></label>
      <label>–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ<input id="editQty" type="number" min="0" step="1"></label>
      <label>–î–µ–π—Å—Ç–≤—É–µ—Ç –¥–æ<input id="editExpires" type="datetime-local"></label>
      <label>–§–æ—Ç–æ<input id="editPhoto" type="file" accept="image/*"></label>
      <div class="full">
        <button class="btn" type="submit">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
      </div>
    </form>
  </dialog>

  <button id="addFloating" class="fab">Ôºã</button>
  <div id="toast" class="toast hidden"></div>

  <script src="./rest_bootstrap.js"></script>
  <script src="./rest.js"></script>
</body>
</html>
