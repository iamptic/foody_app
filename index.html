<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Foody — Личный кабинет (Debug)</title>
  <script src="https://telegram.org/js/telegram-web-app.js"></script>
  <style>
    body{font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,Noto Sans,sans-serif;margin:0;background:#f7f7f8;color:#111}
    .debugbar{position:sticky;top:0;z-index:9999;background:#111;color:#fff;padding:8px 12px;font-size:12px;display:flex;gap:12px;align-items:center}
    .debugbar .dot{width:8px;height:8px;border-radius:50%}
    .debugbar .dot.ok{background:#22c55e}.debugbar .dot.fail{background:#ef4444}
    .debugbar .mono{font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, 'Liberation Mono', 'Courier New', monospace;}
    .debugbar button{font-size:12px;padding:4px 8px;border-radius:6px;border:1px solid rgba(255,255,255,.2);background:#222;color:#fff;cursor:pointer}
    .wrap{padding:16px}
    .hint{font-size:13px;color:#666;margin-top:12px}
  </style>
</head>
<body>
  <div class="debugbar">
    <div id="dbgDot" class="dot fail" title="Backend health"></div>
    <div>API: <span id="dbgApi" class="mono">—</span></div>
    <div>Health: <span id="dbgHealth" class="mono">—</span></div>
    <button id="dbgTest">Test: Create restaurant</button>
  </div>
  <div class="wrap">
    <h2>Foody Mini‑App (режим диагностики)</h2>
    <p class="hint">Эта страница показывает текущий API и статус бэкенда. Нажмите кнопку теста, чтобы увидеть точный ответ сервера.</p>
  </div>
  <script src="./rest.js"></script>
  <script src="./rest_register_fix.js"></script>
</body>
</html>
